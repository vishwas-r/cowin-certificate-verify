{"ast":null,"code":"/*\n * Copyright (c) 2019 Digital Bazaar, Inc. All rights reserved.\n */\n'use strict';\n\nvar _classCallCheck = require(\"D:/My Works/Git/cowin-verify/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"D:/My Works/Git/cowin-verify/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar LRU = require('lru-cache');\n\nvar MAX_ACTIVE_CONTEXTS = 10;\n\nmodule.exports = /*#__PURE__*/function () {\n  /**\n   * Creates a ResolvedContext.\n   *\n   * @param document the context document.\n   */\n  function ResolvedContext(_ref) {\n    var document = _ref.document;\n\n    _classCallCheck(this, ResolvedContext);\n\n    this.document = document; // TODO: enable customization of processed context cache\n    // TODO: limit based on size of processed contexts vs. number of them\n\n    this.cache = new LRU({\n      max: MAX_ACTIVE_CONTEXTS\n    });\n  }\n\n  _createClass(ResolvedContext, [{\n    key: \"getProcessed\",\n    value: function getProcessed(activeCtx) {\n      return this.cache.get(activeCtx);\n    }\n  }, {\n    key: \"setProcessed\",\n    value: function setProcessed(activeCtx, processedCtx) {\n      this.cache.set(activeCtx, processedCtx);\n    }\n  }]);\n\n  return ResolvedContext;\n}();","map":{"version":3,"sources":["D:/My Works/Git/cowin-verify/node_modules/jsonld/lib/ResolvedContext.js"],"names":["LRU","require","MAX_ACTIVE_CONTEXTS","module","exports","document","cache","max","activeCtx","get","processedCtx","set"],"mappings":"AAAA;AACA;AACA;AACA;;;;;;AAEA,IAAMA,GAAG,GAAGC,OAAO,CAAC,WAAD,CAAnB;;AAEA,IAAMC,mBAAmB,GAAG,EAA5B;;AAEAC,MAAM,CAACC,OAAP;AACE;AACF;AACA;AACA;AACA;AACE,iCAAwB;AAAA,QAAXC,QAAW,QAAXA,QAAW;;AAAA;;AACtB,SAAKA,QAAL,GAAgBA,QAAhB,CADsB,CAEtB;AACA;;AACA,SAAKC,KAAL,GAAa,IAAIN,GAAJ,CAAQ;AAACO,MAAAA,GAAG,EAAEL;AAAN,KAAR,CAAb;AACD;;AAXH;AAAA;AAAA,WAaE,sBAAaM,SAAb,EAAwB;AACtB,aAAO,KAAKF,KAAL,CAAWG,GAAX,CAAeD,SAAf,CAAP;AACD;AAfH;AAAA;AAAA,WAiBE,sBAAaA,SAAb,EAAwBE,YAAxB,EAAsC;AACpC,WAAKJ,KAAL,CAAWK,GAAX,CAAeH,SAAf,EAA0BE,YAA1B;AACD;AAnBH;;AAAA;AAAA","sourcesContent":["/*\n * Copyright (c) 2019 Digital Bazaar, Inc. All rights reserved.\n */\n'use strict';\n\nconst LRU = require('lru-cache');\n\nconst MAX_ACTIVE_CONTEXTS = 10;\n\nmodule.exports = class ResolvedContext {\n  /**\n   * Creates a ResolvedContext.\n   *\n   * @param document the context document.\n   */\n  constructor({document}) {\n    this.document = document;\n    // TODO: enable customization of processed context cache\n    // TODO: limit based on size of processed contexts vs. number of them\n    this.cache = new LRU({max: MAX_ACTIVE_CONTEXTS});\n  }\n\n  getProcessed(activeCtx) {\n    return this.cache.get(activeCtx);\n  }\n\n  setProcessed(activeCtx, processedCtx) {\n    this.cache.set(activeCtx, processedCtx);\n  }\n};\n"]},"metadata":{},"sourceType":"script"}