{"ast":null,"code":"import _slicedToArray from\"D:/My Works/Git/cowin-verify/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./index.css\";import VerifyCertificateImg from\"../../assets/img/verify-certificate.png\";import SampleCertificateImg from\"../../assets/img/sample_ceritificate.png\";import ValidCertificateImg from\"../../assets/img/ValidCertificate.png\";import InvalidCertificateImg from\"../../assets/img/InvalidCertificate.jpeg\";import QRCodeImg from\"../../assets/img/qr-code.svg\";import{CertificateStatus}from\"../CertificateStatus\";import{CustomButton}from\"../CustomButton\";import QRScanner from\"../QRScanner\";import JSZip from\"jszip\";import Container from\"react-bootstrap/Container\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var CERTIFICATE_FILE=\"certificate.json\";export var VerifyCertificate=function VerifyCertificate(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showScanner=_useState4[0],setShowScanner=_useState4[1];var handleScan=function handleScan(data){if(data){var zip=new JSZip();zip.loadAsync(data).then(function(contents){return contents.files[CERTIFICATE_FILE].async('text');}).then(function(contents){setResult(contents);}).catch(function(err){setResult(data);});}};var handleError=function handleError(err){console.error(err);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid verify-certificate-wrapper\",children:[!result&&/*#__PURE__*/_jsxs(_Fragment,{children:[!showScanner&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:VerifyCertificateImg,className:\"banner-img\",alt:\"banner-img\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Verify a vaccination certificate\"}),/*#__PURE__*/_jsxs(CustomButton,{className:\"green-btn\",onClick:function onClick(){return setShowScanner(true);},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Scan QR code\"}),/*#__PURE__*/_jsx(\"img\",{className:\"ml-3\",src:QRCodeImg,alt:\"\"})]}),/*#__PURE__*/_jsxs(Container,{className:\"mt-5 p-4 mb-5\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"The Co-WIN vaccination certificate has a digitally signed secure QR code. This can be authenticated online  using the verification utility in this portal or using third party verification app using the services outlined below.\"}),/*#__PURE__*/_jsx(\"h6\",{style:{color:\"#646D82\"},children:\"Option 1 \\u2013 Online verification\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#646D82\"},children:\"Steps for online verification:\"}),/*#__PURE__*/_jsxs(\"ol\",{className:\"verify-steps\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Visit \",/*#__PURE__*/_jsx(\"a\",{href:\"https://verify.cowin.gov.in/\",children:\"https://verify.cowin.gov.in/\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Click on \",/*#__PURE__*/_jsx(\"b\",{children:\"\\u201CScan QR\\u201D\"}),\" code\"]}),/*#__PURE__*/_jsx(\"li\",{children:\"A notification will prompt to activate your device\\u2019s camera\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Point the camera to the QR code on the bottom right of the certificate issued and scan\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Please keep the following points in mind while scanning the QR code\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"success-verify\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"QR code should cover at-least 70%-80% of screen\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Complete QR code should be part of camera frame\"}),/*#__PURE__*/_jsx(\"li\",{children:\"QR code should be parallel to the camera\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Camera should be hold steadily for at-least 5 sec\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"If camera is unable to read the QR code within 45 seconds, a message - \",/*#__PURE__*/_jsx(\"b\",{children:\"\\u201CCamera is not able to read the QR code, please try again\\u201D\"}),\" with a try again button will be displayed. Verifier will be required to scan the QR code again following the instructions mentioned in Step 2.\"]}),/*#__PURE__*/_jsx(\"li\",{children:\"On successful verification, following attributes are displayed on the screen:\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"success-verify\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Message \",/*#__PURE__*/_jsx(\"b\",{children:\"\\u201CCertificate Successfully Verified\\u201D\"})]}),/*#__PURE__*/_jsx(\"li\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Certificate ID\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Beneficiary ID\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Vaccine Name\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Date of Dose\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Vaccination Status\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Vaccination at\"})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"img\",{src:ValidCertificateImg,alt:\"\"})})]}),/*#__PURE__*/_jsx(\"li\",{children:\"In case of an unsuccessful verification if the certificate is not genuine, screen will show the message \\u201CCertificate Invalid\\u201D\"}),/*#__PURE__*/_jsx(\"img\",{src:InvalidCertificateImg,alt:\"\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You can view a \",/*#__PURE__*/_jsx(\"a\",{href:\"https://divoc.egov.org.in/demo-videos/13.-certificate-verification\",target:\"_blank\",children:\"demo video\"}),\" of 'how to verify\\u2019\"]}),/*#__PURE__*/_jsx(\"hr\",{style:{marginTop:\"3rem\",marginBottom:\"3rem\"}}),/*#__PURE__*/_jsx(\"h6\",{style:{color:\"#646D82\"},children:\"Option 2 \\u2013 Offline verification through third party verifier app\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#646D82\"},children:\"Steps for offline verification:\"}),/*#__PURE__*/_jsxs(\"ol\",{className:\"verify-steps\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Access the Co-WIN verification service and code for set up \",/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/egovernments/DIVOC/tree/india/verification\",target:\"_blank\",children:\"here\"})]}),/*#__PURE__*/_jsx(\"li\",{children:\"Get code snippet for reference and implement\"}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Replace the public key used in code snippet with Public key available \",/*#__PURE__*/_jsx(\"a\",{href:\"https://verify.cowin.gov.in/did:india\",target:\"_blank\",children:\"here\"}),\".\"]}),/*#__PURE__*/_jsx(\"li\",{children:\"Implement the verification service in your apps to scan, read and validate Co-WIN certificates\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"In case you need any clarification or support in implementing the verifier app, contact \",/*#__PURE__*/_jsx(\"a\",{href:\"mailto:divoc-support@egov.org.in\",children:\"divoc-support@egov.org.in\"}),\" or \",/*#__PURE__*/_jsx(\"a\",{href:\"mailto:partner@cowin.gov.in\",children:\"partner@cowin.gov.in\"})]})]})]}),showScanner&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(QRScanner,{onError:handleError,onScan:handleScan}),/*#__PURE__*/_jsx(CustomButton,{className:\"green-btn\",onClick:function onClick(){return setShowScanner(false);},children:\"BACK\"})]})]}),result&&/*#__PURE__*/_jsx(CertificateStatus,{certificateData:result,goBack:function goBack(){setShowScanner(false);setResult(\"\");}})]});};","map":{"version":3,"sources":["D:/My Works/Git/cowin-verify/src/components/VerifyCertificate/index.js"],"names":["React","useState","VerifyCertificateImg","SampleCertificateImg","ValidCertificateImg","InvalidCertificateImg","CertificateStatus","CustomButton","QRScanner","JSZip","Container","Row","Col","CERTIFICATE_FILE","VerifyCertificate","result","setResult","showScanner","setShowScanner","handleScan","data","zip","loadAsync","then","contents","files","async","catch","err","handleError","console","error","QRCodeImg","color","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport \"./index.css\";\nimport VerifyCertificateImg from \"../../assets/img/verify-certificate.png\"\nimport SampleCertificateImg from \"../../assets/img/sample_ceritificate.png\"\nimport ValidCertificateImg from \"../../assets/img/ValidCertificate.png\"\nimport InvalidCertificateImg from \"../../assets/img/InvalidCertificate.jpeg\"\nimport QRCodeImg from \"../../assets/img/qr-code.svg\"\nimport {CertificateStatus} from \"../CertificateStatus\";\nimport {CustomButton} from \"../CustomButton\";\nimport QRScanner from \"../QRScanner\";\nimport JSZip from \"jszip\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nexport const CERTIFICATE_FILE = \"certificate.json\";\n\nexport const VerifyCertificate = () => {\n    const [result, setResult] = useState(\"\");\n    const [showScanner, setShowScanner] = useState(false);\n    const handleScan = data => {\n        if (data) {\n            const zip = new JSZip();\n            zip.loadAsync(data).then((contents) => {\n                return contents.files[CERTIFICATE_FILE].async('text')\n            }).then(function (contents) {\n                setResult(contents)\n            }).catch(err => {\n                    setResult(data)\n                }\n            );\n\n        }\n    };\n    const handleError = err => {\n        console.error(err)\n    };\n    return (\n        <div className=\"container-fluid verify-certificate-wrapper\">\n            {\n                !result &&\n                <>\n                    {!showScanner &&\n                    <>\n                        <img src={VerifyCertificateImg} className=\"banner-img\" alt=\"banner-img\"/>\n                        <h3 className=\"text-center\">Verify a vaccination certificate</h3>\n                        <CustomButton className=\"green-btn\" onClick={() => setShowScanner(true)}>\n                            <span>Scan QR code</span>\n                            <img className=\"ml-3\" src={QRCodeImg} alt={\"\"}/>\n                        </CustomButton>\n                        <Container className=\"mt-5 p-4 mb-5\">\n                            <p>\n                                The Co-WIN vaccination certificate has a digitally signed secure QR code.\n\n                                This can be authenticated online  using the verification utility in this portal or using third party verification app using the services outlined below.\n                            </p>\n                            <h6 style={{color:\"#646D82\"}}>Option 1 – Online verification</h6>\n                            <p style={{color:\"#646D82\"}}>Steps for online verification:</p>\n                            <ol className=\"verify-steps\">\n                                <li>Visit <a href=\"https://verify.cowin.gov.in/\">https://verify.cowin.gov.in/</a></li>\n                                <li>Click on <b>“Scan QR”</b> code</li>\n                                <li>A notification will prompt to activate your device’s camera</li>\n                                <li>Point the camera to the QR code on the bottom right of the certificate issued and scan</li>\n                                <li>Please keep the following points in mind while scanning the QR code</li>\n                                <ul className=\"success-verify\">\n                                    <li>QR code should cover at-least 70%-80% of screen</li>\n                                    <li>Complete QR code should be part of camera frame</li>\n                                    <li>QR code should be parallel to the camera</li>\n                                    <li>Camera should be hold steadily for at-least 5 sec</li>\n                                </ul>\n                                <li>If camera is unable to read the QR code within 45 seconds, a message - <b>“Camera is not able to read the QR code, please try again”</b> with a try again button will be displayed. Verifier will be required to scan the QR code again following the instructions mentioned in Step 2.</li>\n                                <li>On successful verification, following attributes are displayed on the screen:\n                                </li>\n                                <Row>\n                                    <Col>\n                                        <ul className=\"success-verify\">\n                                            <li>Message <b>“Certificate Successfully Verified”</b></li>\n                                            <li>Name</li>\n                                            <li>Age</li>\n                                            <li>Gender</li>\n                                            <li>Certificate ID</li>\n                                            <li>Beneficiary ID</li>\n                                            <li>Vaccine Name</li>\n                                            <li>Date of Dose</li>\n                                            <li>Vaccination Status</li>\n                                            <li>Vaccination at</li>\n                                        </ul>\n                                    </Col>\n                                    <Col>\n                                        <img src={ValidCertificateImg} alt=\"\"/>\n                                    </Col>\n                                </Row>\n                                <li>In case of an unsuccessful verification if the certificate is not genuine, screen will show the message “Certificate Invalid”</li>\n                                <img src={InvalidCertificateImg} alt=\"\"/>\n                            </ol>\n                            <p>You can view a <a href=\"https://divoc.egov.org.in/demo-videos/13.-certificate-verification\" target=\"_blank\">demo video</a> of 'how to verify’</p>\n                            <hr style={{marginTop: \"3rem\", marginBottom: \"3rem\"}}/>\n                            <h6 style={{color:\"#646D82\"}}>Option 2 – Offline verification through third party verifier app</h6>\n                            <p style={{color:\"#646D82\"}}>Steps for offline verification:</p>\n                            <ol className=\"verify-steps\">\n                                <li>Access the Co-WIN verification service and code for set up <a href=\"https://github.com/egovernments/DIVOC/tree/india/verification\" target=\"_blank\">here</a></li>\n                                <li>Get code snippet for reference and implement</li>\n                                <li>Replace the public key used in code snippet with Public key available <a href=\"https://verify.cowin.gov.in/did:india\" target=\"_blank\">here</a>.</li>\n                                <li>Implement the verification service in your apps to scan, read and validate Co-WIN certificates</li>\n                            </ol>\n                            <p>In case you need any clarification or support in implementing the verifier app, contact <a href=\"mailto:divoc-support@egov.org.in\">divoc-support@egov.org.in</a> or <a href=\"mailto:partner@cowin.gov.in\">partner@cowin.gov.in</a></p>\n                        </Container>\n                    </>}\n                    {showScanner &&\n                    <>\n                        <QRScanner onError={handleError}\n                                   onScan={handleScan}/>\n                        <CustomButton className=\"green-btn\" onClick={() => setShowScanner(false)}>BACK</CustomButton>\n                    </>\n                    }\n                </>\n            }\n            {\n                result && <CertificateStatus certificateData={result} goBack={() => {\n                    setShowScanner(false);\n                    setResult(\"\");\n                }\n                }/>\n            }\n\n\n        </div>\n    )\n};\n"]},"metadata":{},"sourceType":"module"}